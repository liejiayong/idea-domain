(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{671:function(n,s,t){"use strict";t.r(s);var a=t(9),e=Object(a.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("blockquote",[t("p",[n._v("本文章不跟新，可移步到“[node]yarn、npm、nrm 与 nvm 的安装和使用详解”")])]),n._v(" "),t("p",[n._v("2020 新年，疫情形势让我内心姗姗来迟的平静下来，于是...发现个人电脑竟然还装在 nodejs 独立版本，所以...写下一篇笔记。")]),n._v(" "),t("p",[n._v("nvm 全称 Node Version Manager 是 Nodejs 版本管理器，它让我们能方便的对 Nodejs 的版 本进行切换。 nvm 的官方版本只支持 Linux 和 Mac。 Windows 用户，可以用 "),t("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows",target:"_blank",rel:"noopener noreferrer"}},[n._v("nvm-windows"),t("OutboundLink")],1),n._v("。")]),n._v(" "),t("h1",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[n._v("#")]),n._v(" 安装")]),n._v(" "),t("p",[n._v("安装注意事项：")]),n._v(" "),t("ul",[t("li",[n._v("如果在安装 nvm 之前已经下载了 node,需要把 node 卸载！！！需要把 node 卸载！！！需要把 node 卸载！！！")]),n._v(" "),t("li",[n._v("nvm 所安装目录名不能存在空格")])]),n._v(" "),t("h2",{attrs:{id:"linux-mac-下-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-mac-下-安装"}},[n._v("#")]),n._v(" linux/mac 下 安装")]),n._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 下载")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("curl")]),n._v(" -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("bash")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("wget")]),n._v(" -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("bash")]),n._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#查看已经安装在全局的模块，以便删除这些全局模块后再按照不同的 node 版本重新进行全局安装")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("npm")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("ls")]),n._v(" -g --depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#删除全局 node_modules 目录")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("sudo")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("rm")]),n._v(" -rf /usr/local/lib/node_modules\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#删除 node")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("sudo")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("rm")]),n._v(" /usr/local/bin/node\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#删除全局 node 模块注册的软链")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("cd")]),n._v(" /usr/local/bin "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("&&")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("ls")]),n._v(" -l "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("grep")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[n._v('"../lib/node_modules/"')]),n._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("awk")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[n._v("'{print $9}'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("xargs")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("rm")]),n._v("\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br")])]),t("h2",{attrs:{id:"windows-下-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows-下-安装"}},[n._v("#")]),n._v(" windows 下 安装")]),n._v(" "),t("p",[n._v("window 可以直接根据系统版本来安装即可"),t("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[n._v("下载地址：https://github.com/coreybutler/nvm-windows/releases"),t("OutboundLink")],1)]),n._v(" "),t("ul",[t("li",[n._v("nvm-noinstall.zip： 这个是绿色免安装版本，但是使用之前需要配置")]),n._v(" "),t("li",[n._v("nvm-setup.zip：这是一个安装包，下载之后点击安装，无需配置就可以使用，方便(推荐)。")]),n._v(" "),t("li",[n._v("Source code(zip)：zip 压缩的源码")]),n._v(" "),t("li",[n._v("Sourc code(tar.gz)：tar.gz 的源码，一般用于*nix 系统")])]),n._v(" "),t("p",[n._v("下载完成后解压下载的 zip，生成 nvm-setup.exe 文件并运行。")]),n._v(" "),t("p",[n._v("然后配置 nvm 安装地址位置 与 设置 node 的 symlink 文件夹位置(注意安装 nvm 与 node 的所在目录不能存在空格等非常规字符) 。")]),n._v(" "),t("p",[n._v("然后安装流程下一步即可完成安装")]),n._v(" "),t("p",[n._v("在显示安装成功后，打开 GIT 命令窗口输入 "),t("strong",[n._v("nvm")]),n._v(" 后，窗口显示有关 nvm 的相关信息则安装成功，如下：")]),n._v(" "),t("div",{staticClass:"language-txt line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-txt"}},[t("code",[n._v('\nRunning version 1.1.7.\n\nUsage:\n\n  nvm arch                     : Show if node is running in 32 or 64 bit mode.\n  nvm install <version> [arch] : The version can be a node.js version or "latest" for the latest stable version.\n                                 Optionally specify whether to install the 32 or 64 bit version (defaults to system arch).\n                                 Set [arch] to "all" to install 32 AND 64 bit versions.\n                                 Add --insecure to the end of this command to bypass SSL validation of the remote download server.\n  nvm list [available]         : List the node.js installations. Type "available" at the end to see what can be installed. Aliased as ls.\n  nvm on                       : Enable node.js version management.\n  nvm off                      : Disable node.js version management.\n  nvm proxy [url]              : Set a proxy to use for downloads. Leave [url] blank to see the current proxy.\n                                 Set [url] to "none" to remove the proxy.\n  nvm node_mirror [url]        : Set the node mirror. Defaults to https://nodejs.org/dist/. Leave [url] blank to use default url.\n  nvm npm_mirror [url]         : Set the npm mirror. Defaults to https://github.com/npm/cli/archive/. Leave [url] blank to default url.\n  nvm uninstall <version>      : The version must be a specific version.\n  nvm use [version] [arch]     : Switch to use the specified version. Optionally specify 32/64bit architecture.\n                                 nvm use <arch> will continue using the selected version, but switch to 32/64 bit mode.\n  nvm root [path]              : Set the directory where nvm should store different versions of node.js.\n                                 If <path> is not set, the current root will be displayed.\n  nvm version                  : Displays the current running version of nvm for Windows. Aliased as v.\n\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br"),t("span",{staticClass:"line-number"},[n._v("23")]),t("br"),t("span",{staticClass:"line-number"},[n._v("24")]),t("br")])]),t("h1",{attrs:{id:"修改代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改代理"}},[n._v("#")]),n._v(" 修改代理")]),n._v(" "),t("p",[n._v("在你安装的目录下找到 settings.txt 文件")]),n._v(" "),t("p",[n._v("打开后加上 node 与 npm 的镜像地址(mirror),")]),n._v(" "),t("p",[n._v("接着添加 nvm 在本地磁盘位置 root,以及 nvm 当前控制的 node 版本的磁盘位置：path 位置根据实际安装位置来设置。")]),n._v(" "),t("div",{staticClass:"language-txt line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-txt"}},[t("code",[n._v("node_mirror: https://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br")])]),t("p",[n._v("settings.txt 最终效果")]),n._v(" "),t("div",{staticClass:"language-txt line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-txt"}},[t("code",[n._v("root: D:\\nvm\npath: D:\\nodejs\n\narch: 64\nproxy: none\noriginalpath:\noriginalversion:\n\nnode_mirror: https://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br")])]),t("h1",{attrs:{id:"nvm-usage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nvm-usage"}},[n._v("#")]),n._v(" nvm Usage")]),n._v(" "),t("ul",[t("li",[n._v("nvm arch [32|64]： 显示 node 是运行在 32 位还是 64 位模式。指定 32 或 64 来覆盖默认体系结构。")]),n._v(" "),t("li",[n._v("nvm install "),t("version",[n._v(" [arch]：该可以是 node.js 版本或最新稳定版本 latest。（可选[arch]）指定安装 32 位或 64 位版本（默认为系统 arch）。设置[arch]为 all 以安装 32 和 64 位版本。在命令后面添加–insecure，可以绕过远端下载服务器的 SSL 验证。")])],1),n._v(" "),t("li",[n._v("nvm list [available]：列出已经安装的 node.js 版本。可选的 available，显示可下载版本的部分列表。这个命令可以简写为 nvm ls [available]。")]),n._v(" "),t("li",[n._v("nvm on： 启用 node.js 版本管理。")]),n._v(" "),t("li",[n._v("nvm off： 禁用 node.js 版本管理(不卸载任何东西)")]),n._v(" "),t("li",[n._v("nvm proxy [url]： 设置用于下载的代理。留[url]空白，以查看当前的代理。设置[url]为 none 删除代理。")]),n._v(" "),t("li",[n._v("nvm node_mirror [url]：设置 node 镜像，默认为https://nodejs.org/dist/.。可以设置为淘宝的镜像https://npm.taobao.org/mirrors/node/")]),n._v(" "),t("li",[n._v("nvm npm_mirror [url]：设置 npm 镜像，默认为https://github.com/npm/- npm/archive/。可以设置为淘宝的镜像https://npm.taobao.org/mirrors/npm/")]),n._v(" "),t("li",[n._v("nvm uninstall "),t("version",[n._v("： 卸载指定版本的 nodejs。")])],1),n._v(" "),t("li",[n._v("nvm use [version][arch]： 切换到使用指定的 nodejs 版本。可以指定 32/64 位[arch]。")]),n._v(" "),t("li",[n._v("nvm use "),t("arch",[n._v("：将继续使用所选版本，但根据提供的值切换到 32/64 位模式")])],1),n._v(" "),t("li",[n._v("nvm root [path]： 设置 nvm 存储 node.js 不同版本的目录 ,如果未设置，将使用当前目录。")]),n._v(" "),t("li",[n._v("nvm version： 显示当前运行的 nvm 版本，可以简写为 nvm v")])]),n._v(" "),t("h1",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[n._v("#")]),n._v(" 使用")]),n._v(" "),t("p",[n._v("先查看当前版本列表：nvm list")]),n._v(" "),t("p",[n._v("接着查看线上版本：nvm list available")]),n._v(" "),t("p",[n._v("然后安装需求版本： nvm install 12.13.0")]),n._v(" "),t("p",[n._v("最后使用 nvm 指定 node 版本： nvm use 12.13.0")]),n._v(" "),t("h1",{attrs:{id:"可能遇见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可能遇见问题"}},[n._v("#")]),n._v(" 可能遇见问题")]),n._v(" "),t("h2",{attrs:{id:"windows-上安装-nvm-后选择-node-版本出现-exit-status-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows-上安装-nvm-后选择-node-版本出现-exit-status-1"}},[n._v("#")]),n._v(" windows 上安装 nvm 后选择 node 版本出现 exit status 1...")]),n._v(" "),t("p",[n._v("问题：nvm install x.x.x 可以成功，但无法切换和使用")]),n._v(" "),t("p",[n._v("原因：我把 nvm 安装到了有空格的路径上（D:\\Program Files），导致切换失败")]),n._v(" "),t("p",[n._v("解决：把 nvm 卸载重装到没有空格的路径上（例如：D:\\nvm），即可解决问题")]),n._v(" "),t("h2",{attrs:{id:"nvm-在-cmder-中不生效"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nvm-在-cmder-中不生效"}},[n._v("#")]),n._v(" nvm 在 Cmder 中不生效")]),n._v(" "),t("p",[n._v("原因就不需要解析了")]),n._v(" "),t("p",[n._v("解决：重启电脑后 或者重启命令工具后，即会生效。")]),n._v(" "),t("h2",{attrs:{id:"安装时出现-npm-download-failed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装时出现-npm-download-failed"}},[n._v("#")]),n._v(" 安装时出现 npm Download failed.")]),n._v(" "),t("p",[n._v("原因：")]),n._v(" "),t("ol",[t("li",[n._v("可能是 npm 镜像地址为国外，没有科学上网超时下载")]),n._v(" "),t("li",[n._v("可能设置"),t("a",{attrs:{href:"https://npm.taobao.org/mirrors/npm/",target:"_blank",rel:"noopener noreferrer"}},[n._v("淘宝镜像"),t("OutboundLink")],1),n._v("后，所下载 npm 版本（如：node:v12.13.1, npm:v6.12.1）在淘宝镜像不存在,因此需要手动安装")])]),n._v(" "),t("p",[n._v("解决：")]),n._v(" "),t("p",[n._v("问题 1：只需设置淘宝镜像即可，"),t("a",{attrs:{href:"#%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%90%86"}},[n._v("看上文")])]),n._v(" "),t("p",[n._v("问题 2 则需要如下步骤：")]),n._v(" "),t("ul",[t("li",[n._v("首先去 node 官网下载对应版本的 node")]),n._v(" "),t("li",[n._v("在 nvm 目录下创建名为 v12.13.1 的文件夹")]),n._v(" "),t("li",[n._v("点开 node-v**.**.*.msi 的安装文件，将安装目录选为 nvm\\v12.13.1\\，然后一直 next 即可。")]),n._v(" "),t("li",[n._v('修改这个版本 npm 的缓存目录：npm config set prefix "你的 nvm 目录\\v12.13.1\\node_modules"')])]),n._v(" "),t("h2",{attrs:{id:"window-系统支持的-nodejs-版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#window-系统支持的-nodejs-版本"}},[n._v("#")]),n._v(" window 系统支持的 nodejs 版本")]),n._v(" "),t("p",[n._v("在实战中，window 不同系统对 nodejs 版本支持还是有所区分的")]),n._v(" "),t("ul",[t("li",[n._v("win7:\n"),t("ul",[t("li",[n._v("最高支持 node@v12.18.4")]),n._v(" "),t("li",[n._v("nodejs 版本大于 v12.18.4 时， 需要运行在 win8 上才能正常使用")])])])]),n._v(" "),t("h1",{attrs:{id:"参考链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[n._v("#")]),n._v(" 参考链接")]),n._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/nvm-sh/nvm",target:"_blank",rel:"noopener noreferrer"}},[n._v("nvm"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);